function isEmojiChar(e){return null==regex.exec(e)?null!=regex.exec(e)&&-1==e.search(/[\u{4e00}-\u{9fa5}_a-zA-Z0-9]/gu):-1==e.search(/[\u{4e00}-\u{9fa5}_a-zA-Z0-9]/gu)}function offensive(){res="",1!=$("input[id='zhadd']").is(":checked")?res=$("#t1").val().split("").join(" "):res=$("#t1").val().replace(/([\u4e00-\u9fa5])/g," $1 ").replace(/  /g," ").trim(),print(res)}function replacement(){onDemandScript(p1,function(){onDemandScript(p2,function(){onDemandScript("https://cdn.jsdelivr.net/gh/gaowanliang/NMSL/src/js/chemical.min.js",function(){print(chemicalChange($("#t2").val()))})})})}function aoligei(){onDemandScript(cdn+"src/js/aoligei.js",function(){print(aoli())})}function print(e){$("#res").text(e),$("#copy").attr("data-clipboard-text",e)}function addProcess(){kuan++,kuan>=4&&($("#p1").hide(),changes())}function livere(){var e,n,i,t;k1&&(e=document,n="script",t=e.getElementsByTagName(n)[0],"function"!=typeof LivereTower&&(i=e.createElement(n),i.src="https://cdn-city.livere.com/js/embed.dist.js",i.async=!0,t.parentNode.insertBefore(i,t)),k1--)}function changes(){var e="";if(console.log(index,1),0==index){var n=$("#t").val(),t=segmentit.doSegment(n),s=sj,c=sy;if(1==$("input[id='checklook']").is(":checked")&&(s=bfl,c=bfsy),console.log(t),"1"==$("input[name='group1']:checked").val())for(i=0,len=t.length;i<len;i++){var a=t[i].w.trim();if(void 0!==s[a])e+=s[a];else if(a.length>0)for(characters=a.split(""),j=0,wlen=characters.length;j<wlen;j++)void 0!==s[characters[j]]?e+=s[characters[j]]:e+=characters[j];else e+=a}else for(i=0,len=t.length;i<len;i++){a=t[i].w.trim();var r=s[a];if(void 0!==r)e+=s[a];else if(void 0===r){var o=pinyinUtil.getPinyin(a,"",!1,!0);if(void 0!==c[o])e+=s[c[o]];else if(a.length>0)for(characters=a.split(""),j=0,wlen=characters.length;j<wlen;j++){var l=characters[j];if(void 0!==s[l])e+=s[l];else{var d=pinyinUtil.getPinyin(l,"",!1,!0);void 0!==c[d]?e+=s[c[d]]:e+=l}}else e+=a.trim()}}1==$("input[id='checkda']").is(":checked")&&(e=e.replace(/大/g,"带")),1==$("input[id='checkai']").is(":checked")&&(e=e.replace(/💓/g,"i")),1==$("input[id='checkye']").is(":checked")&&(e=e.replace(/我/g,"👴")),0!=$("#skinSel").val()&&(e=e.replace(/👴/g,$("#skinSel")[0][$("#skinSel").val()].innerText)),print(e)}else onDemandScript(cdn+"src/js/dssq.min.js",function(){print(generate())})}function onDemandScript(e,n){n=void 0!==n?n:{},$.ajax({type:"GET",url:e,success:n,dataType:"js"==e.substring(e.lastIndexOf(".")+1)?"script":"json",cache:!0})}var sj={},p1="https://cdn.jsdelivr.net/gh/gaowanliang/pinyinjs/dict/pinyin_dict_polyphone.js",p2="https://cdn.jsdelivr.net/gh/gaowanliang/pinyinjs/pinyinUtil.min.js",cdn="https://cdn.jsdelivr.net/gh/gaowanliang/NMSL/",segmentit,regex;-1!=window.location.href.indexOf("gitee")?($("body").addClass("mdui-theme-primary-red mdui-theme-accent-red"),$("#domestic").hide()):$("#global").hide();var inst=new mdui.Tab("#tab"),index=0;document.getElementById("tab").addEventListener("change.mdui.tab",function(e){index=e._detail.index,2==index?$("#up").text("给"+$("#skinSel")[0][$("#skinSel").val()].innerText+"论证"):$("#up").text("给"+$("#skinSel")[0][$("#skinSel").val()].innerText+"转"),1==index?$("#up").hide():$("#up").show()});var skin=$("#skinSel")[0][$("#skinSel").val()].innerText;$(()=>{$("#skinSel").change(()=>{for(console.log($("#skinSel").val()),temp=$(".mdui-panel-item-summary,.mdui-checkbox,#up"),i=0,len=temp.length;i<len;i++)temp.eq(i).html(temp.eq(i).html().replace(eval("/"+skin+"/g"),$("#skinSel")[0][$("#skinSel").val()].innerText));skin=$("#skinSel")[0][$("#skinSel").val()].innerText})});const getTextFeature=(e,n)=>{try{const i=document.createElement("canvas");i.width=2,i.height=2;const t=i.getContext("2d");t.textBaseline="top",t.font="100px sans-serif",t.fillStyle=n,t.scale(.01,.01),t.fillText(e,0,0);const s=t.getImageData(0,0,2,2).data,c=[];for(let e=0;e<s.length;e++)c[e]=s[e];return c.reduce((e,n)=>e+n,0)>0&&c.toString()}catch(e){return!1}},distribute=(e,n)=>{const i=getTextFeature(e,"#000");return n?i&&i===getTextFeature(e,"#FFF"):i},ifEmoji=e=>{const n=distribute("😁");return distribute(e,n)};var bfl=Object.assign({},sj),bfsy={},sy={},kuan=0,k1=1,bfl,bfsy,sy,done=!0;$("#up").click(function(){done?onDemandScript("src/data/emoji.json",function(data){sj=data,bfl=Object.assign({},sj),bfsy={},sy={},$("#te").hide(),$("#p2").show(),t=0,onDemandScript("src/js/segmentCXH.min.js",function(){console.log("segmentit.js done");const{Segment:e,useDefault:n}=require("segmentit");segmentit=n(new e),addProcess()}),onDemandScript(p1,function(){console.log("pinyin_dict_polyphone.min.js done"),addProcess(),onDemandScript(p2,function(){console.log("pinyinUtil.min.js done"),addProcess(),onDemandScript(cdn+"src/js/emoji-regex.js",function(){console.log("emoji-regex.js done");const emojiRegex=require("emoji-regex");regex=emojiRegex(),Object.keys(sj).forEach(function(key){sy[pinyinUtil.getPinyin(key,"",!1,!0)+""]=key,!ifEmoji(sj[key])&&isEmojiChar(sj[key])?eval("delete bfl."+key):bfsy[pinyinUtil.getPinyin(key,"",!1,!0)+""]=key}),addProcess()})})}),done--}):changes()});var clipboard=new ClipboardJS("#copy");clipboard.on("success",function(e){mdui.snackbar({message:"复制成功"})}),clipboard.on("error",function(e){mdui.snackbar({message:"复制失败，用其他浏览器试试？"})});